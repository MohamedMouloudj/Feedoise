model Label {
    id        String   @id @default(uuid()) @db.Uuid
    projectId String   @map("project_id") @db.Uuid
    name      String
    color     String   @default("#3b82f6")
    createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)

    project Project       @relation(fields: [projectId], references: [id], onDelete: Cascade)
    threads ThreadLabel[]

    @@unique([projectId, name])
    @@map("labels")
}

model ThreadLabel {
    id        String   @id @default(uuid()) @db.Uuid
    threadId  String   @map("thread_id") @db.Uuid
    labelId   String   @map("label_id") @db.Uuid
    createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)

    thread Thread @relation(fields: [threadId], references: [id], onDelete: Cascade)
    label  Label  @relation(fields: [labelId], references: [id], onDelete: Cascade)

    @@unique([threadId, labelId])
    @@map("thread_labels")
}
