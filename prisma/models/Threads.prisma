model Thread {
    id               String       @id @default(uuid()) @db.Uuid
    projectId        String       @map("project_id") @db.Uuid
    authorId         String       @map("author_id") @db.Uuid
    title            String
    content          String
    originalLanguage String       @map("original_language")
    status           ThreadStatus @default(new)
    priorityWeight   Int          @default(0) @map("priority_weight")
    assignedTo       String?      @map("assigned_to") @db.Uuid
    createdAt        DateTime     @default(now()) @map("created_at") @db.Timestamptz(6)
    updatedAt        DateTime     @default(now()) @updatedAt @map("updated_at") @db.Timestamptz(6)

    project       Project        @relation(fields: [projectId], references: [id], onDelete: Cascade)
    author        User           @relation(fields: [authorId], references: [id], onDelete: Cascade)
    assignedUser  User?          @relation("AssignedThreads", fields: [assignedTo], references: [id], onDelete: SetNull)
    comments      Comment[]
    labels        ThreadLabel[]
    notifications Notification[]

    @@index([projectId])
    @@index([authorId])
    @@index([assignedTo])
    @@index([status])
    @@index([createdAt(sort: Desc)])
    @@map("threads")
}
